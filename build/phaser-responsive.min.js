/*!
 * phaser-responsive - version 2.0.0-alpha1 
 * Adds responsive objects that can be pinned to Phaser!
 *
 * OrangeGames
 * Build at 24-05-2016
 * Released under MIT License 
 */

var Fabrique;!function(a){var b;!function(b){var c=function(){function b(){}return b.prototype.getPositionConfig=function(){if(!this.game.device.desktop){if(this.game.width>this.game.height&&null!==this.landscapePositionConfig)return this.landscapePositionConfig;if(this.game.height>this.game.width&&null!==this.portraitPositionConfig)return this.portraitPositionConfig}return this.basePositionConfig},b.prototype.updatePosition=function(){var a=this.getPositionConfig(),b=this.game.getPinnedBase(a.pinnedPosition);this.x=a.x+b.x,this.y=a.y+b.y},b.prototype.setPinned=function(b,c,d){this.basePositionConfig=new a.PinnedConfig(b,c,d),this.updatePosition()},b.prototype.setPortraitPinned=function(b,c,d){this.portraitPositionConfig=new a.PinnedConfig(b,c,d),this.updatePosition()},b.prototype.setLandscapePinned=function(b,c,d){this.landscapePositionConfig=new a.PinnedConfig(b,c,d),this.updatePosition()},b}();b.Position=c}(b=a.Responsive||(a.Responsive={}))}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b;!function(b){var c=function(){function b(){}return b.prototype.getScalingConfig=function(){if(!this.game.device.desktop){if(this.game.width>this.game.height&&null!==this.landscapeScalingConfig)return this.landscapeScalingConfig;if(this.game.height>this.game.width&&null!==this.portraitScalingConfig)return this.portraitScalingConfig}return this.baseScaleConfig},b.prototype.updateScaling=function(){var a=this.getScalingConfig();return null===a?void this.scale.set(this.oldScale.x,this.oldScale.y):(this.oldScale.set(this.scale.x,this.scale.y),void this.game.scale.scaleObjectDynamicly(this,a.percentage,a.percentageOfWidth,a.scaleDesktop))},b.prototype.setScaling=function(b,c,d){this.baseScaleConfig=new a.ScalingConfig(b,c,d),this.updateScaling()},b.prototype.setPortraitScaling=function(b,c,d){this.portraitScalingConfig=new a.ScalingConfig(b,c,d),this.updateScaling()},b.prototype.setLandscapeScaling=function(b,c,d){this.landscapeScalingConfig=new a.ScalingConfig(b,c,d),this.updateScaling()},b}();b.Scale=c}(b=a.Responsive||(a.Responsive={}))}(Fabrique||(Fabrique={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Fabrique;!function(a){var b;!function(b){function c(a,b){b.forEach(function(b){Object.getOwnPropertyNames(b.prototype).forEach(function(c){a.prototype[c]=b.prototype[c]})})}b.applyMixins=c;var d=function(b){function c(c,d){var e=this;b.call(this,c,d),c.hasOwnProperty("getPinnedBase")||Object.defineProperty(c,"getPinnedBase",{value:function(b){switch(b){case a.PinnedPosition.topCenter:return new Phaser.Point(e.game.width/2,0);case a.PinnedPosition.topRight:return new Phaser.Point(e.game.width,0);case a.PinnedPosition.middleLeft:return new Phaser.Point(0,e.game.height/2);case a.PinnedPosition.middleCenter:return new Phaser.Point(e.game.width/2,e.game.height/2);case a.PinnedPosition.middleRight:return new Phaser.Point(e.game.width,e.game.height/2);case a.PinnedPosition.bottomLeft:return new Phaser.Point(0,e.game.height);case a.PinnedPosition.bottomCenter:return new Phaser.Point(e.game.width/2,e.game.height);case a.PinnedPosition.bottomRight:return new Phaser.Point(e.game.width,e.game.height);case a.PinnedPosition.topLeft:default:return new Phaser.Point(0,0)}}}),this.addResponsiveFactory(),this.addResponsiveCreator(),this.addResponsiveScaleManager()}return __extends(c,b),c.prototype.addResponsiveScaleManager=function(){Phaser.ScaleManager.prototype.scaleObjectDynamicly=function(a,b,c,d){if(void 0===c&&(c=!0),void 0===d&&(d=!1),!this.game.device.desktop||d){a.scale.set(1,1);var e,f,g;c?(e=this.game.width*b/100,0===a.width,g=e/a.width,f=a.height*g,f>this.game.height&&(g=(this.game.height-10)/a.height),a.scale.set(g,g)):(f=this.game.height*b/100,0===a.height,g=f/a.height,e=a.width*g,e>this.game.width&&(g=(this.game.width-10)/a.width),a.scale.set(g,g))}}},c.prototype.addResponsiveFactory=function(){Phaser.GameObjectFactory.prototype.responsiveImage=function(b,c,d,e,f,g){return void 0===g&&(g=this.world),g.add(new a.Responsive.Image(this.game,b,c,d,e,f))},Phaser.GameObjectFactory.prototype.responsiveButton=function(b,c,d,e,f,g,h,i,j,k,l){return void 0===l&&(l=this.world),l.add(new a.Responsive.Button(this.game,b,c,d,e,f,g,h,i,j,k))},Phaser.GameObjectFactory.prototype.responsiveSprite=function(b,c,d,e,f,g){return void 0===g&&(g=this.world),g.add(new a.Responsive.Sprite(this.game,b,c,d,e,f))},Phaser.GameObjectFactory.prototype.responsiveText=function(b,c,d,e,f,g){return void 0===g&&(g=this.world),g.add(new a.Responsive.Text(this.game,b,c,d,e,f))},Phaser.GameObjectFactory.prototype.responsiveBitmapText=function(b,c,d,e,f,g,h,i){return void 0===i&&(i=this.world),i.add(new a.Responsive.BitmapText(this.game,b,c,d,e,f,g,h))},Phaser.GameObjectFactory.prototype.responsiveGroup=function(b,c,d,e,f,g,h,i){return new a.Responsive.Group(this.game,b,c,d,e,f,g,h,i)}},c.prototype.addResponsiveCreator=function(){Phaser.GameObjectCreator.prototype.responsiveImage=function(b,c,d,e,f){return new a.Responsive.Image(this.game,b,c,d,e,f)},Phaser.GameObjectCreator.prototype.responsiveButton=function(b,c,d,e,f,g,h,i,j,k,l){return new a.Responsive.Button(this.game,b,c,d,e,f,g,h,i,j,k)},Phaser.GameObjectCreator.prototype.responsiveSprite=function(b,c,d,e,f){return new a.Responsive.Sprite(this.game,b,c,d,e,f)},Phaser.GameObjectCreator.prototype.responsiveText=function(b,c,d,e,f){return new a.Responsive.Text(this.game,b,c,d,e,f)},Phaser.GameObjectCreator.prototype.responsiveBitmapText=function(b,c,d,e,f,g,h){return new a.Responsive.BitmapText(this.game,b,c,d,e,f,g,h)},Phaser.GameObjectCreator.prototype.responsiveGroup=function(b,c,d,e,f,g,h,i){return new a.Responsive.Group(this.game,b,c,d,e,f,g,h,i)}},c}(Phaser.Plugin);b.Responsiveness=d}(b=a.Plugins||(a.Plugins={}))}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b;!function(b){var c=function(b){function c(c,d,e,f,g,h,i,j){var k=this;void 0===j&&(j=a.PinnedPosition.topLeft),b.call(this,c,d,e,f,g,h,i),this.basePositionConfig=null,this.landscapePositionConfig=null,this.portraitPositionConfig=null,this.oldScale=new Phaser.Point(1,1),this.game.scale.onSizeChange.add(function(){return k.onResize()},null),this.setPinned(j,d||0,e||0)}return __extends(c,b),c.prototype.onResize=function(){this.updatePosition()},c}(Phaser.BitmapText);b.BitmapText=c,a.Plugins.applyMixins(c,[b.Position])}(b=a.Responsive||(a.Responsive={}))}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b;!function(b){var c=function(b){function c(c,d,e,f,g,h,i,j,k,l,m){var n=this;void 0===m&&(m=a.PinnedPosition.topLeft),b.call(this,c,d,e,f,g,h,i,j,k,l),this.basePositionConfig=null,this.landscapePositionConfig=null,this.portraitPositionConfig=null,this.baseScaleConfig=null,this.landscapeScalingConfig=null,this.portraitScalingConfig=null,this.oldScale=new Phaser.Point(1,1),this.game.scale.onSizeChange.add(function(){return n.onResize()},null),this.setPinned(m,d||0,e||0)}return __extends(c,b),c.prototype.onResize=function(){this.updatePosition(),this.updateScaling()},c}(Phaser.Button);b.Button=c,a.Plugins.applyMixins(c,[b.Position,b.Scale])}(b=a.Responsive||(a.Responsive={}))}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b;!function(b){var c=function(b){function c(c,d,e,f,g,h,i,j,k){var l=this;void 0===k&&(k=a.PinnedPosition.topLeft),b.call(this,c,d,e,f,g,h),this.basePositionConfig=null,this.landscapePositionConfig=null,this.portraitPositionConfig=null,this.baseScaleConfig=null,this.landscapeScalingConfig=null,this.portraitScalingConfig=null,this.oldScale=new Phaser.Point(1,1),this.game.scale.onSizeChange.add(function(){return l.onResize()},null),this.setPinned(k,i||0,j||0)}return __extends(c,b),c.prototype.onResize=function(){this.updatePosition(),this.updateScaling()},c}(Phaser.Group);b.Group=c,a.Plugins.applyMixins(c,[b.Position,b.Scale])}(b=a.Responsive||(a.Responsive={}))}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b;!function(b){var c=function(b){function c(c,d,e,f,g,h){var i=this;void 0===h&&(h=a.PinnedPosition.topLeft),b.call(this,c,d,e,f,g),this.basePositionConfig=null,this.landscapePositionConfig=null,this.portraitPositionConfig=null,this.baseScaleConfig=null,this.landscapeScalingConfig=null,this.portraitScalingConfig=null,this.oldScale=new Phaser.Point(1,1),this.game.scale.onSizeChange.add(function(){return i.onResize()},null),this.setPinned(h,d||0,e||0)}return __extends(c,b),c.prototype.onResize=function(){this.updatePosition(),this.updateScaling()},c}(Phaser.Image);b.Image=c,a.Plugins.applyMixins(c,[b.Position,b.Scale])}(b=a.Responsive||(a.Responsive={}))}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b;!function(b){var c=function(b){function c(c,d,e,f,g,h){var i=this;void 0===h&&(h=a.PinnedPosition.topLeft),b.call(this,c,d,e,f,g),this.basePositionConfig=null,this.landscapePositionConfig=null,this.portraitPositionConfig=null,this.baseScaleConfig=null,this.landscapeScalingConfig=null,this.portraitScalingConfig=null,this.oldScale=new Phaser.Point(1,1),this.game.scale.onSizeChange.add(function(){return i.onResize()},null),this.setPinned(h,d||0,e||0)}return __extends(c,b),c.prototype.onResize=function(){this.updatePosition(),this.updateScaling()},c}(Phaser.Sprite);b.Sprite=c,a.Plugins.applyMixins(c,[b.Position,b.Scale])}(b=a.Responsive||(a.Responsive={}))}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b;!function(b){var c=function(b){function c(c,d,e,f,g,h){var i=this;void 0===h&&(h=a.PinnedPosition.topLeft),b.call(this,c,d,e,f,g),this.basePositionConfig=null,this.landscapePositionConfig=null,this.portraitPositionConfig=null,this.baseScaleConfig=null,this.landscapeScalingConfig=null,this.portraitScalingConfig=null,this.oldScale=new Phaser.Point(1,1),this.game.scale.onSizeChange.add(function(){return i.onResize()},null),this.setPinned(h,d||0,e||0)}return __extends(c,b),c.prototype.onResize=function(){this.updatePosition(),this.updateScaling()},c}(Phaser.Text);b.Text=c,a.Plugins.applyMixins(c,[b.Position,b.Scale])}(b=a.Responsive||(a.Responsive={}))}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b=function(){function b(b,c,d){void 0===b&&(b=a.PinnedPosition.topLeft),void 0===c&&(c=0),void 0===d&&(d=0),this.pinnedPosition=void 0,this.x=0,this.y=0,this.pinnedPosition=b,this.x=c,this.y=d}return b}();a.PinnedConfig=b}(Fabrique||(Fabrique={}));var Fabrique;!function(a){!function(a){a[a.topLeft=0]="topLeft",a[a.topCenter=1]="topCenter",a[a.topRight=2]="topRight",a[a.middleLeft=3]="middleLeft",a[a.middleCenter=4]="middleCenter",a[a.middleRight=5]="middleRight",a[a.bottomLeft=6]="bottomLeft",a[a.bottomCenter=7]="bottomCenter",a[a.bottomRight=8]="bottomRight"}(a.PinnedPosition||(a.PinnedPosition={}));a.PinnedPosition}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b=function(){function a(a,b,c){void 0===b&&(b=!0),void 0===c&&(c=!1),this.percentage=a,this.percentageOfWidth=b,this.scaleDesktop=c}return a}();a.ScalingConfig=b}(Fabrique||(Fabrique={}));